{"ast":null,"code":"var _jsxFileName = \"/home/rudransh/public_html/react-redux/client/src/components/cards/ProductCardInCheckout.js\";\nimport React from \"react\";\nimport ModalImage from \"react-modal-image\";\nimport laptop from \"../../images/laptop.png\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { CheckCircleOutlined, CloseCircleOutlined, CloseOutlined } from \"@ant-design/icons\";\n\nconst ProductCardInCheckout = ({\n  p\n}) => {\n  const colors = [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"];\n  let dispatch = useDispatch();\n\n  const handleColorChange = e => {\n    console.log(\"color changed\", e.target.value);\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart[i].color = e.target.value;\n        }\n      }); //  console.log('cart udpate color', cart)\n\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart\n      });\n    }\n  };\n\n  const handleQuantityChange = e => {\n    // console.log(\"available quantity\", p.quantity);\n    let count = e.target.value < 1 ? 1 : e.target.value;\n\n    if (count > p.quantity) {\n      toast.error(`Max available quantity: ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart\n      });\n    }\n  };\n\n  const handleRemove = () => {\n    // console.log(p._id, \"to remove\");\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } // [1,2,3,4,5]\n\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart.splice(i, 1);\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100px\",\n      height: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, p.images ? /*#__PURE__*/React.createElement(ModalImage, {\n    small: p.images[0].url,\n    large: p.images[0].url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(ModalImage, {\n    small: laptop,\n    large: laptop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, p.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"$\", p.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, p.brand), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleColorChange,\n    name: \"color\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, p.color ? /*#__PURE__*/React.createElement(\"option\", {\n    value: p.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, p.color) : /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, \"Select\"), colors.filter(c => c !== p.color).map(c => /*#__PURE__*/React.createElement(\"option\", {\n    key: c,\n    value: c,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, c)))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    value: p.count,\n    onChange: handleQuantityChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, p.shipping === \"Yes\" ? /*#__PURE__*/React.createElement(CheckCircleOutlined, {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(CloseCircleOutlined, {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    onClick: handleRemove,\n    className: \"text-danger pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ProductCardInCheckout;","map":{"version":3,"sources":["/home/rudransh/public_html/react-redux/client/src/components/cards/ProductCardInCheckout.js"],"names":["React","ModalImage","laptop","useDispatch","toast","CheckCircleOutlined","CloseCircleOutlined","CloseOutlined","ProductCardInCheckout","p","colors","dispatch","handleColorChange","e","console","log","target","value","cart","window","localStorage","getItem","JSON","parse","map","product","i","_id","color","setItem","stringify","type","payload","handleQuantityChange","count","quantity","error","handleRemove","splice","width","height","images","url","title","price","brand","filter","c","shipping"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ModalImage from \"react-modal-image\";\nimport laptop from \"../../images/laptop.png\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  CloseOutlined,\n} from \"@ant-design/icons\";\n\nconst ProductCardInCheckout = ({ p }) => {\n  const colors = [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"];\n  let dispatch = useDispatch();\n\n  const handleColorChange = (e) => {\n    console.log(\"color changed\", e.target.value);\n\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart[i].color = e.target.value;\n        }\n      });\n\n      //  console.log('cart udpate color', cart)\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  const handleQuantityChange = (e) => {\n    // console.log(\"available quantity\", p.quantity);\n    let count = e.target.value < 1 ? 1 : e.target.value;\n\n    if (count > p.quantity) {\n      toast.error(`Max available quantity: ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  const handleRemove = () => {\n    // console.log(p._id, \"to remove\");\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      // [1,2,3,4,5]\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart.splice(i, 1);\n        }\n      });\n\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  return (\n    <tbody>\n      <tr>\n        <td>\n          <div style={{ width: \"100px\", height: \"auto\" }}>\n            {p.images ? (\n              <ModalImage small={p.images[0].url} large={p.images[0].url} />\n            ) : (\n              <ModalImage small={laptop} large={laptop} />\n            )}\n          </div>\n        </td>\n        <td>{p.title}</td>\n        <td>${p.price}</td>\n        <td>{p.brand}</td>\n        <td>\n          <select\n            onChange={handleColorChange}\n            name=\"color\"\n            className=\"form-control\"\n          >\n            {p.color ? (\n              <option value={p.color}>{p.color}</option>\n            ) : (\n              <option>Select</option>\n            )}\n            {colors\n              .filter((c) => c !== p.color)\n              .map((c) => (\n                <option key={c} value={c}>\n                  {c}\n                </option>\n              ))}\n          </select>\n        </td>\n        <td className=\"text-center\">\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={p.count}\n            onChange={handleQuantityChange}\n          />\n        </td>\n        <td className=\"text-center\">\n          {p.shipping === \"Yes\" ? (\n            <CheckCircleOutlined className=\"text-success\" />\n          ) : (\n            <CloseCircleOutlined className=\"text-danger\" />\n          )}\n        </td>\n        <td className=\"text-center\">\n          <CloseOutlined\n            onClick={handleRemove}\n            className=\"text-danger pointer\"\n          />\n        </td>\n      </tr>\n    </tbody>\n  );\n};\n\nexport default ProductCardInCheckout;\n"]},"metadata":{},"sourceType":"module"}