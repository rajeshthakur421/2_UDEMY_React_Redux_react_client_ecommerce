{"ast":null,"code":"var _jsxFileName = \"/home/rudransh/public_html/react-redux/client/src/pages/admin/product/ImProductCreate.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport FileUploadCrud from \"../../../components/forms/FileUploadCrud\";\nimport ProductCreateFormCrud from \"../../../components/forms/ProductCreateFormCrud\";\nimport AdminNav from '../../../components/nav/AdminNav';\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport { createProduct } from \"../../../functions/product\";\n\nconst ImProductCreate = () => {\n  const [values, setValues] = useState('');\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () => getCategories().then(c => setValues({ ...values,\n    categories: caches.data\n  }));\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createProduct(values, user.token).then(res => {\n      console.log(res);\n      window.alert(`\"${res.data.title}\" is created`);\n      window.location.reload();\n    }).catch(err => {\n      console.log(err);\n      toast.error(err.response.data.err);\n    });\n  };\n\n  const handleChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.values\n    });\n  };\n\n  const handleCatagoryChange = e => {\n    e.preventDefault();\n    console.log(\"Clicked category\", e.target.values);\n    setValues({ ...values,\n      sub: [],\n      category: e.target.value\n    });\n    getCategorySubs(e.target.value).then(res => {\n      console.log(\"suboption on category click\", res);\n      setSubOptions(res.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AdminNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FileUploadCrud, {\n    values: values,\n    setValues: setValues,\n    setLoading: setLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ProductCreateFormCrud, {\n    handleSubmit: handleSubmit,\n    handleChange: handleChange,\n    setValues: setValues,\n    values: values,\n    handleCatagoryChange: handleCatagoryChange,\n    subOptions: subOptions,\n    showSub: showSub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ImProductCreate;","map":{"version":3,"sources":["/home/rudransh/public_html/react-redux/client/src/pages/admin/product/ImProductCreate.js"],"names":["React","useEffect","useState","useSelector","toast","FileUploadCrud","ProductCreateFormCrud","AdminNav","getCategories","getCategorySubs","createProduct","ImProductCreate","values","setValues","subOptions","setSubOptions","showSub","setShowSub","loading","setLoading","user","state","loadCategories","then","c","categories","caches","data","handleSubmit","e","preventDefault","token","res","console","log","window","alert","title","location","reload","catch","err","error","response","handleChange","target","name","handleCatagoryChange","sub","category","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport FileUploadCrud from \"../../../components/forms/FileUploadCrud\";\nimport ProductCreateFormCrud from \"../../../components/forms/ProductCreateFormCrud\";\nimport AdminNav from '../../../components/nav/AdminNav'\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport { createProduct } from \"../../../functions/product\";\nconst ImProductCreate = () => {\n    const [values, setValues] = useState('');\n    const [subOptions, setSubOptions] = useState([]);\n    const [showSub, setShowSub] = useState(false);\n    const [loading , setLoading] = useState(false);\n    const {user} = useSelector((state) => ({...state}));\n    useEffect(()=>{\n        loadCategories();\n    },[]);\n    const loadCategories = () => \n        getCategories().then((c) =>  setValues({...values, categories: caches.data }));\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        createProduct(values,user.token)\n        .then((res) => {\n            console.log(res);\n            window.alert(`\"${res.data.title}\" is created`);\n            window.location.reload();\n        })\n        .catch((err) => {\n            console.log(err);\n            toast.error(err.response.data.err);\n        });\n    };\n\n    const handleChange = (e) => {\n        setValues({ ...values, [e.target.name]: e.target.values});\n    };\n\n    const handleCatagoryChange = (e) => {\n        e.preventDefault();\n        console.log(\"Clicked category\",e.target.values);\n        setValues({...values, sub:[],category: e.target.value});\n        getCategorySubs(e.target.value).then((res) => {\n            console.log(\"suboption on category click\",res);\n            setSubOptions(res.data);\n        });\n    };  \n\n    return(\n        <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col-md-2\">\n                    <AdminNav />\n                </div>\n    \n                <div className=\"col-md-10\">\n                    <div className=\"p-3\">\n                        <FileUploadCrud \n                            values={values}\n                            setValues={setValues}\n                            setLoading={setLoading}\n                        />\n                    </div>\n                    <ProductCreateFormCrud \n                        handleSubmit={handleSubmit}\n                        handleChange={handleChange}\n                        setValues={setValues}\n                        values={values}\n                        handleCatagoryChange = {handleCatagoryChange}\n                        subOptions={subOptions}\n                        showSub={showSub}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ImProductCreate;"]},"metadata":{},"sourceType":"module"}